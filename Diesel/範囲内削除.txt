*^C^C$M=setenv;to;0;$(nth,$(getenv,to),id;non;\undo;be;setenv;p;$M="""$(getvar,lastpoint)""";rectang;non;@;non;\setenv;to;1,,,,,,)$(nth,$(getenv,to),,erase;l;;line;non;@;non;$(getenv,p)^H^H;;lengthen;dy;;;l;;;ucs;ob;l;id;non;$M="""$(/,$(getvar,perimeter),2)"""<0;oops;ucs;p;id;non;@;setenv;to;2,,,,,)$(nth,$(getenv,to),,,erase;l;;ucs;o;non;$(getvar,lastpoint);ucs;ob;l;id;non;0<0;ucs;p;setenv;to;3,;x;$(*,0.999,$(index,0,$(getvar,lastpoint)));;y;$(*,0.999,$(index,1,$(getvar,lastpoint)));;to;4,,,)$(nth,$(getenv,to),,,,,zoom;c;non;0<0;$(getvar,perimeter);trim;l;;f;$(getenv,x)",$(getenv,y);$(*,-1,$(getenv,x)),$(getenv,y);$(*,-1,$(getenv,x)),"$(*,-1,$(getenv,y));;;setenv;to;5,,)$(nth,$(getenv,to),,,,,,trim;p;;f;$(*,-1,$(getenv,x))",$(*,-1,$(getenv,y));$(getenv,x),$(*,-1,$(getenv,y));$(getenv,x),"$(getenv,y);;;setenv;to;6,)$(nth,$(getenv,to),,,,,,,erase;w;non;$(getenv,x)",$(getenv,y);non;$(*,-1,$(getenv,x)),"$(*,-1,$(getenv,y));p;;ucs;p;undo;e;zoom;p)^M